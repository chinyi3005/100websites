"use strict";function displayVideo(n){for(var e="",a=0;a<n.items.length;a+=1)e+='\n            <a href="https://www.youtube.com/watch?v='+n.items[a].id.videoId+'"class="channel-card__link" target="_blank">\n                <div class="channel-card__item">\n                    <div class="channel-card__img-wrapper">\n                        <img src="'+n.items[a].snippet.thumbnails.high.url+'" class="channel-card__img">\n                    </div>\n                    <div class="channel-card__content">\n                        <img src="imgs/avatar.png" alt="" class="channel-card__avatar">\n                        <div class="channel-card__container">\n                            <h2 class="channel-card__heading">'+n.items[a].snippet.title+'</h2>\n                            <h3 class="channel-card__subheading">'+n.items[a].snippet.channelTitle+"</h3>\n                        </div>\n                    </div>\n                </div>\n            </a>";DOM.$section.append(e)}function getVideo(n,e){isLoading=!0,n||(n="zh-TW",e="tw"),$.ajax({url:"https://www.googleapis.com/youtube/v3/videos",data:{key:"AIzaSyBIZ1kKJvH6NIJzefMXGiOd18tr-Bic9Z0",part:"snippet,statistics,topicDetails",chart:"mostPopular",hl:n,regionCode:e,maxResults:21,pageToken:tokenID}}).done(function(n){tokenID=n.nextPageToken,n.items.length>0?(displayVideo(n),isLoading=!1,DOM.$loadingIcon.hide(),console.log("display")):DOM.$loadingIcon.hide()})}function changeLanguage(n){var e=$(this),a=e.data("lang"),i=e.data("region"),t=window.i18N[""+a].title;n.preventDefault(),DOM.$sectionTitle.text(t),DOM.$section.empty(),getVideo(a,i)}function loadMore(){$(window).height()+$(window).scrollTop()>$(document).height()-100&&(isLoading||(DOM.$loadingIcon.show(),getVideo(),console.log("Get api")))}var DOM={$section:$(".channel-card"),$sectionTitle:$(".main-section__title"),$loadingIcon:$(".channel-card__loader"),$imgWrapper:$(".channel-card__img-wrapper")},tokenID="",isLoading=!1;$(document).ready(function(){getVideo(),$(window).on("scroll",loadMore),$(".menu-lang__link").on("click",changeLanguage)});