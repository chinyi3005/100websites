"use strict";function displayVideo(n){for(var e="",i=0;i<n.items.length;i+=1)e+='\n            <a href="https://www.youtube.com/watch?v='+n.items[i].id.videoId+'"class="channel-card__link" target="_blank">\n                <div class="channel-card__item">\n                    <div class="channel-card__img-wrapper">\n                        <img src="'+n.items[i].snippet.thumbnails.high.url+'" class="channel-card__img">\n                    </div>\n                    <div class="channel-card__content">\n                        <img src="imgs/avatar.png" alt="" class="channel-card__avatar">\n                        <div class="channel-card__container">\n                            <h2 class="channel-card__heading">'+n.items[i].snippet.title+'</h2>\n                            <h3 class="channel-card__subheading">'+n.items[i].snippet.channelTitle+"</h3>\n                        </div>\n                    </div>\n                </div>\n            </a>";DOM.$section.append(e)}function getVideo(){isLoading=!0,$.ajax({url:"https://www.googleapis.com/youtube/v3/videos",data:{key:"AIzaSyBIZ1kKJvH6NIJzefMXGiOd18tr-Bic9Z0",part:"snippet,statistics,topicDetails",chart:"mostPopular",hl:language,regionCode:region,maxResults:21,pageToken:tokenID}}).done(function(n){tokenID=n.nextPageToken,n.items.length>0?(displayVideo(n),isLoading=!1,DOM.$loadingIcon.hide()):DOM.$loadingIcon.hide()})}function loadMore(){$(window).height()+$(window).scrollTop()>$(document).height()-100&&(isLoading||(DOM.$loadingIcon.show(),getVideo()))}function changeLanguage(n){n.preventDefault(),language=$(this).data("lang"),region=$(this).data("region"),h2Title=window.i18N[""+language].title,DOM.$sectionTitle.text(h2Title),DOM.$section.empty(),getVideo()}var DOM={$section:$(".channel-card"),$sectionTitle:$(".main-section__title"),$loadingIcon:$(".channel-card__loader"),$imgWrapper:$(".channel-card__img-wrapper")},language="zh-TW",region="tw",h2Title=window.i18N["zh-TW"].title,tokenID="",isLoading=!1;console.log(h2Title),$(document).ready(function(){getVideo(),$(window).on("scroll",loadMore),$(".menu-lang__link").on("click",changeLanguage)});