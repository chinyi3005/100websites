{"version":3,"sources":["main.js"],"names":["scooter","settings_list","document","querySelector","carousel","add_slide_btn","submit_btn","settings_btn","displayLoadingEffect","carousel_list","classList","add","renderCarouselData","clearCarousel","toggleSettings","removeLoadingEffect","remove","isClear","arguments","length","undefined","$","target","slickObj","moveZoomPosition","current_index","count","target_item_id","target_item","split","index","storage","data","title","updateListNumberAfterDelete","join","column","innerHTML","input_numbers","dataset","slickIndex","img","style","backgroundPosition","x","y","input_value","zoom","settings","updatePanelMoveUpDistance","panel_is_open","is_desktop","minimum_width","setDefaultCarouselContent","zoom_box","setZoomBoxWidth","distance","window","addEventListener","Math","min","documentElement","clientWidth","innerWidth","screen","width","height","innerHeight","slidesToShow","infinite","prevArrow","init","description","addSettingsItem","calculateSettingsListNumber","querySelectorAll","list_number","li","template","appendChild","e","value","contains","closest","id","SettingsObj","removeChild","setTimeout","list","slick_options","nextArrow"],"mappings":"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","file":"../main.min.js","sourcesContent":["const scooter = (() => {\n\n  //\n  // Variables\n  //\n  const settings_list = document.querySelector('.settings__list');\n  const carousel = document.querySelector('.feature-carousel');\n  const add_slide_btn = document.querySelector('.settings__add-btn');\n  const submit_btn = document.querySelector('.settings__submit-btn');\n  const settings_btn = document.querySelector('.settings__edit-btn');\n  let storage = []; // Save setting's value\n  let panel_is_open = false;\n\n\n  //\n  // Methods\n  //\n  const calculateSettingsListNumber = () => {\n    const settings_items = settings_list.querySelectorAll('.js-item');\n    return settings_items.length;\n  }\n\n  const addSettingsItem = () => {\n    const list_number = calculateSettingsListNumber();\n    const li = document.createElement('li');\n    const template = `\n        <span class=\"settings__column js-no\">#${list_number + 1}</span>\n        <span class=\"settings__column\">\n           <input type=\"number\" class=\"settings__number js-input-x\" min=\"0\" max=\"100\" value=50>\n        </span>\n        <span class=\"settings__column\">\n           <input type=\"number\" class=\"settings__number js-input-y\" min=\"0\" max=\"100\" value=50>\n        </span>\n        <span class=\"settings__column\">\n           <select name=\"zoom\" id=\"select-zoom\" class=\"settings__select js-select\">\n              <option value=\"100\">1</option>\n              <option value=\"150\">1.5</option>\n              <option value=\"200\" selected>2</option>\n              <option value=\"250\">2.5</option>\n              <option value=\"300\">3</option>\n           </select>\n        </span>\n        <span class=\"settings__column\">\n           <input type=\"text\" class=\"settings__text js-input-title\" value=\"\" size=\"30\">\n        </span>\n        <span class=\"settings__column\">\n           <input type=\"text\" class=\"settings__text js-input-description\" size=\"30\" maxlength=\"100\" value=\"\">\n        </span>\n        <span class=\"settings__column js-delete-btn\">\n           <img src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/829617/delete_icon.png\" alt=\"\" class=\"settings__delete-icon js-delete-btn\">\n        </span>`;\n\n    li.classList.add('settings__item', 'js-item');\n    li.id = `setting-${list_number}`;\n    li.innerHTML = template;\n    settings_list.appendChild(li);\n  };\n\n  const saveSettingsValue = () => {\n    storage = []; // Remember to clear all the values\n\n    const lists = document.querySelectorAll('.js-item');\n\n    lists.forEach((list, index) => {\n      const x_value = list.querySelector('.js-input-x').value;\n      const y_value = list.querySelector('.js-input-y').value;\n      const select_value = list.querySelector('.js-select').value;\n      const title_value = list.querySelector('.js-input-title').value;\n      const description_value = list.querySelector('.js-input-description').value;\n      const data = {\n        x: x_value,\n        y: y_value,\n        zoom: select_value,\n        title: title_value,\n        description: description_value,\n      }\n\n      storage[index] = data;\n    });\n\n    displayLoadingEffect();\n  };\n\n  const displayLoadingEffect = () => {\n    document.querySelector('.feature-wrap').classList.add('is-loading');\n\n    renderCarouselData(true);\n    setTimeout(removeLoadingEffect, 1000);\n    toggleSettings();\n  };\n\n  const removeLoadingEffect = () => {\n    document.querySelector('.feature-wrap').classList.remove('is-loading');\n  };\n\n  const clearCarousel = (slickObj) => {\n    let count = slickObj.slick(\"getSlick\").slideCount;\n\n    // Remove all slides\n    while (count > 0) {\n      slickObj.slick('slickRemove', 0);\n      count--;\n    }\n  };\n\n  const renderCarouselData = (isClear = false) => {\n    const carousel_list = $('.feature-carousel__list');\n\n    if (isClear) {\n      clearCarousel(carousel_list);\n    }\n\n    let carousel_content = storage.map((data, index) => {\n      return `\n           <div class=\"feature-carousel__item\">\n              <p class=\"feature-carousel__label\">\n                 <span class=\"feature-carousel__label-text js-item-number\">${index + 1} / ${storage.length} </span>\n                 <span class=\"feature-carousel__label-line\"></span>\n                 <span class=\"feature-carousel__label-text\">${data.title}</span>\n              </p>\n              <p class=\"feature-carousel__description\">${data.description}</p>\n           </div>`;\n    }).join('');\n\n    carousel_list.slick('slickAdd', carousel_content);\n\n    moveZoomPosition();\n  };\n\n  const moveZoomPosition = () => {\n    const current_index = document.querySelector('.slick-active').dataset.slickIndex;\n    const img = document.querySelector('.feature-zoom__img');\n\n    img.style.backgroundPosition = `${storage[current_index].x}% ${storage[current_index].y}%`;\n    img.style.backgroundSize = `${storage[current_index].zoom}%`;\n  };\n\n  const deleteSettingsItem = (e) => {\n    const target = e.target;\n    if (!target.classList.contains('js-delete-btn')) return;\n\n    const target_item = target.closest('.js-item');\n    const target_item_id = target_item.id.split('-')[1];\n    const settings_list = target_item.parentElement;\n\n    settings_list.removeChild(target_item);\n\n    updateListNumberAfterDelete();\n  };\n\n  const updateListNumberAfterDelete = () => {\n    const no_columns = document.querySelectorAll('.js-no');\n\n    no_columns.forEach((column, index) => {\n      column.innerHTML = `#${index + 1}`;\n    });\n  };\n\n  const checkInputNumberValues = (e) => {\n    const target = e.target;\n    const input_numbers = target.classList.contains('settings__number');\n\n    if (!input_numbers) return;\n\n    let input_value = target.value;\n\n    if (input_value < 0 || input_value > 100) {\n      alert('The value must be between 1 ~ 100');\n      e.target.value = 1;\n    };\n  };\n\n  const updatePanelMoveUpDistance = (SettingsObj) => {\n    const panel = SettingsObj.querySelector('.settings__panel');\n    const panel_height = panel.clientHeight;\n\n    return panel_height;\n  };\n\n  const toggleSettings = () => {\n    const settings = document.querySelector('.settings');\n    const distance = updatePanelMoveUpDistance(settings);\n\n    panel_is_open = !panel_is_open;\n\n    if (panel_is_open) {\n      settings.style.transform = `translateY(${0})`;\n    } else {\n      settings.style.transform = `translateY(${-distance}px)`;\n    }\n  };\n\n  const callCarousel = () => {\n    const carousel_list = $('.feature-carousel__list');\n    const slick_options = {\n      slidesToShow: 1,\n      infinite: false,\n      prevArrow: '<button class=\"feature-carousel__btn feature-carousel__btn--prev js-trigger-btn\"></button>',\n      nextArrow: '<button class=\"feature-carousel__btn feature-carousel__btn--next js-trigger-btn\"></button>',\n    }\n\n    carousel_list.slick(slick_options);\n  };\n\n  const setDefaultCarouselContent = () => {\n    storage = [\n      { x: \"50\", y: \"50\", zoom: \"100\", title: \"The Evolution Of The Legendary\", description: \"It's combine fresh style and sporty personality with cutting-edge technology.\" },\n      { x: \"65\", y: \"5\", zoom: \"300\", title: \"Genuine Parts Are Better\", description: \"Simple and easy to use mechanical antitheft system which locks the handlebar to the vehicle with a fastener system fixed to the body.\" },\n      { x: \"10\", y: \"85\", zoom: \"250\", title: \"Highest Performing Engine\", description: \"With its single engine capacity, is definitely the long range touring.\" },\n      { x: \"100\", y: \"100\", zoom: \"200\", title: \"Safty First\", description: \"The sensor system installed on the front wheel is able to prevent locking and guarantee stability & effective braking.\" },\n    ];\n\n    renderCarouselData();\n  };\n\n  const is_desktop = () => {\n    const minimum_width = 1024;\n    return Math.min(document.documentElement.clientWidth, window.innerWidth, screen.width) > minimum_width;\n  };\n\n  const setZoomBoxWidth = () => {\n    const zoom_box = document.querySelector('.feature-zoom');\n    const percentage = 0.7;\n\n    if (is_desktop()) {\n      zoom_box.style.width = `${window.innerWidth * percentage}px`;\n      zoom_box.style.height = `${window.innerHeight}px`;\n    }\n    else {\n      zoom_box.style.width = '';\n      zoom_box.style.height = '';\n    }\n  };\n\n  const init = () => {\n    callCarousel();\n    setDefaultCarouselContent();\n    setZoomBoxWidth();\n  };\n\n\n  //\n  // Inits & Event Listeners\n  //\n  init();\n\n  add_slide_btn.addEventListener('click', addSettingsItem);\n  settings_list.addEventListener('click', deleteSettingsItem);\n  submit_btn.addEventListener('click', saveSettingsValue);\n  carousel.addEventListener('click', (e) => {\n    const has_nav_btns = e.target.classList.contains('js-trigger-btn');\n    if (!has_nav_btns) return;\n\n    moveZoomPosition();\n  });\n  settings_list.addEventListener('keyup', checkInputNumberValues);\n  settings_btn.addEventListener('click', toggleSettings);\n\n  window.addEventListener('resize', setZoomBoxWidth);\n})();\n"]}